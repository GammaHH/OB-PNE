---
title: <% tp.file.title %>

<%* 
// å–å¾—è—¥ç‰©åˆ†é¡
let drugCategory = await tp.system.prompt("è«‹è¼¸å…¥è—¥ç‰©ç´°é …åˆ†é¡") || "æœªåˆ†é¡"; 

// åˆå§‹åŒ– tags é™£åˆ—
let tagList = ["è—¥ç†å­¸", drugCategory]; 

// è®“ä½¿ç”¨è€…ä¸æ–·è¼¸å…¥æ¨™ç±¤ï¼Œç›´åˆ°æŒ‰å–æ¶ˆæˆ–è¼¸å…¥ç©ºå€¼
while (true) {
    let newTag = await tp.system.prompt("è«‹è¼¸å…¥é¡å¤–æ¨™ç±¤ï¼ˆæŒ‰å–æ¶ˆæˆ–ç•™ç©ºçµæŸï¼‰");
    if (!newTag) break; // å¦‚æœè¼¸å…¥ç‚ºç©ºï¼Œå‰‡çµæŸè¿´åœˆ
    tagList.push(newTag);
}

// ç§»é™¤é‡è¤‡æ¨™ç±¤
tagList = [...new Set(tagList)]; 

// è¨­å®šè³‡æ–™ä¾†æº
let sourceList = ["è—¥ç†è—¥åŒ–å¹³å®‰ç¬¦"];
let includeExtraSource = await tp.system.prompt("æ˜¯å¦å¡«å¯«é¡å¤–ä¾†æºï¼Ÿï¼ˆY/Nï¼‰") || "N";
if (includeExtraSource.toLowerCase() == "y") {
    let source2 = await tp.system.prompt("è«‹è¼¸å…¥é¡å¤–è³‡æ–™ä¾†æº") || "æœªå¡«å¯«";
    sourceList.push(source2);
}
%>

category: <%- drugCategory %>
tags: <%- JSON.stringify(tagList) %>
created: <% tp.date.now("YYYY-MM-DD") %>
updated: <% tp.file.last_modified_date("YYYY-MM-DD") %>
source: <%- JSON.stringify(sourceList) %>
Abstract: "è—¥ç‰©å€‹è«–"
---
#é¦–åˆ·
## ğŸ”¹ 1. åŸºæœ¬è³‡è¨Š
- **è—¥åï¼ˆDrug Nameï¼‰**ï¼š<% tp.file.title %>
- **åˆ†é¡ï¼ˆCategoryï¼‰**ï¼š<% tagList.filter(tag => tag !== "è—¥ç†å­¸").join("ã€") %>
- **MOAï¼ˆMechanism of Actionï¼‰**ï¼š
> [!ERROR] ä¸€å¥è©±MOA
> - ç„¡
<%*
let mnemonic = await tp.system.prompt("æ˜¯å¦å¡«å¯«ç›¸é—œæ¯”è¼ƒå£è¨£ï¼Ÿï¼ˆY?ï¼‰");
let mnemonicText = `## ğŸ”¹ 2. ç›¸é—œå£è¨£\n> [!tip] å£è¨£\n> - ç¾ç„¡`;

if (mnemonic.toLowerCase() == "y") {
    mnemonicText = `## ğŸ”¹ 2. ç›¸é—œå£è¨£\n> [!tip]- å£è¨£\n> - ${await tp.system.prompt("è«‹è¼¸å…¥ç›¸é—œå£è¨£")}`;
}
%>
<% mnemonicText %>

## ğŸ”¹ 3. ç‰¹è‰²
#### ğŸ§ª è—¥ç†ï¼ˆPharmacologyï¼‰
<%*
let pharmacologyList = []; // åˆå§‹åŒ–è—¥ç†ç‰¹è‰²é™£åˆ—
while (true) {
    let feature = await tp.system.prompt("è«‹è¼¸å…¥ä¸€å€‹ç°¡çŸ­å…·å°è±¡çš„è—¥ç†ç‰¹è‰²ï¼ˆæŒ‰å–æ¶ˆæˆ–è¼¸å…¥ç©ºå€¼çµæŸï¼‰");
    if (!feature) break; // çµæŸè¼¸å…¥
    pharmacologyList.push("- " + feature); // åŠ å…¥åˆ—è¡¨ï¼Œä¸¦åŠ ä¸Š Markdown æ¨™è¨˜
}
%>
<% pharmacologyList.join("\n") %>

#### ğŸ§¬ è—¥åŒ–ï¼ˆMedicinal Chemistryï¼‰
- ä¸çŸ¥
<%*
let medicinalList = []; // åˆå§‹åŒ–è—¥åŒ–ç‰¹è‰²é™£åˆ—
while (true) {
    let feature = await tp.system.prompt("è«‹è¼¸å…¥ä¸€å€‹ç°¡çŸ­å…·å°è±¡çš„è—¥åŒ–ç‰¹è‰²ï¼ˆæŒ‰å–æ¶ˆæˆ–è¼¸å…¥ç©ºå€¼çµæŸï¼‰");
    if (!feature) break; 
    medicinalList.push("- " + feature);
}
%>
<% medicinalList.join("\n") %>

#### âš¡å‰¯ä½œç”¨ï¼ˆAdverse Effectsï¼‰
- 

<%*
let adme = await tp.system.prompt("æ˜¯å¦å¡«å¯« ADMEï¼Ÿï¼ˆY?ï¼‰"); 
let admeText = "## ğŸ”¹ 4. ADMEï¼ˆè—¥ä»£å‹•åŠ›å­¸ï¼‰\n ä¸é‡è¦";
if (adme.toLowerCase() == "y") {
    let absorption = await tp.system.prompt("è¼¸å…¥å¸æ”¶æ–¹å¼") || "æœªçŸ¥";
    let distribution = await tp.system.prompt("è¼¸å…¥è›‹ç™½çµåˆç‡") || "æœªçŸ¥";
    let metabolism = await tp.system.prompt("è¼¸å…¥ä¸»è¦ä»£è¬æ–¹å¼ï¼ˆä¾‹å¦‚ï¼šCYP3A4ã€è…ä»£è¬ã€è…¸å£ä»£è¬ï¼‰") || "æœªçŸ¥";
    let excretion = await tp.system.prompt("è¼¸å…¥æ’æ³„æ–¹å¼") || "æœªçŸ¥";
    let halfLife = await tp.system.prompt("è¼¸å…¥åŠè¡°æœŸ") || "æœªçŸ¥";
    admeText = `## ğŸ”¹ 3. ADMEï¼ˆè—¥ä»£å‹•åŠ›å­¸ï¼‰
| éšæ®µ                   | å…§å®¹                                             |
| -------------------- | ---------------------------------------------- |
| **å¸æ”¶ï¼ˆAbsorptionï¼‰**   | ${absorption}               |
| **åˆ†å¸ƒï¼ˆDistributionï¼‰** | ${distribution}              |
| **ä»£è¬ï¼ˆMetabolismï¼‰**   | ${metabolism} |
| **æ’æ³„ï¼ˆExcretionï¼‰**    | ${excretion}               |
| **åŠè¡°æœŸï¼ˆHalf-lifeï¼‰**   | ${halfLife}                |`;
}
%>
<% admeText %>
## ğŸ”¹ 5. æ¯”è¼ƒã€é€£çµ
<%*
let compareTitle = await tp.system.prompt("è¼¸å…¥è¦æ¯”è¼ƒçš„æ¨™é¡Œ") || "æ€ è¾¦é€£çµ";
%>
[[<% compareTitle %>]]